% !TeX program = txs:///arara
% arara: pdflatex: {synctex: on, interaction: nonstopmode, shell: yes}
\documentclass{article}

\usepackage{xpatch}
\usepackage{tikzlings,tikzducks}
\usetikzlibrary{external}
\tikzexternalize

\tikzset{
  svg export/.style={
    external/system call/.append={
      ; pdftocairo -svg "\image.pdf" "./svgs/\image.svg"
      ; inkscape -g --actions="select-all; object-to-path; select-all; path-union; export-filename:./svgs/\image_merged.svg; export-do; quit-immediate;" "./svgs/\image.svg"
      ; openscad -o ./stls/\image.stl Cookiecutters.scad -D 'filepath="./svgs/\image_merged.svg"'
      ; openscad -o ./pngs/\image.png Cookiecutters.scad -D 'filepath="./svgs/\image_merged.svg"' --camera=10,30,210,-2,6,0,5 --colorscheme Tomorrow --render --autocenter --viewall
      ; rm \image.{log,md5,dpth}
    }
  },
  svg export,
  external/force remake
}

\def\elephanthookforeground{
  \fill[red] (0.3,1.2) circle [radius=0.3cm];
}
\def\apehookforeground{
  \fill[red] (0.5,1.1) circle [radius=0.3cm];
  \fill[red] (-0.5,1.1) circle [radius=0.3cm];
}

\begin{document}

\makeatletter
\pretocmd{\tikzlings@names@clist}{duck,}{}{}%
\foreach \x in \tikzlings@names@clist {%
  \tikzsetnextfilename{\x}
  \begin{tikzpicture}
    \csname\x\endcsname
  \end{tikzpicture}
  \includegraphics[width=2cm]{./pngs/\x}
}
\makeatother

\end{document}